<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeMaster - Ultimate Learning Hub</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                        dark: '#0f172a',
                        darker: '#020617',
                        card: '#1e293b',
                        light: '#f8fafc'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- PrismJS for Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: 'Inter', sans-serif; }
        pre, code, textarea { font-family: 'Fira Code', monospace; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }

        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .code-block {
            max-height: 400px;
            overflow-y: auto;
        }

        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Loader */
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-darker text-slate-300 antialiased h-screen flex overflow-hidden selection:bg-primary selection:text-white">

    <!-- Sidebar Navigation -->
    <aside class="w-64 bg-dark border-r border-slate-800 flex-shrink-0 flex flex-col hidden md:flex">
        <div class="p-6 flex items-center gap-3 border-b border-slate-800">
            <div class="w-8 h-8 bg-gradient-to-br from-primary to-purple-600 rounded-lg flex items-center justify-center text-white font-bold">CM</div>
            <h1 class="text-xl font-bold text-white tracking-tight">CodeMaster</h1>
        </div>

        <div class="p-4 pb-0">
            <button onclick="loadCompiler()" class="w-full text-left p-3 rounded-lg flex items-center gap-3 text-white bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 shadow-lg hover:shadow-pink-500/20 transition-all group">
                <i data-lucide="terminal-square" class="w-5 h-5"></i>
                <span class="font-bold">Compiler Playground</span>
            </button>
        </div>

        <div class="px-4 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wider mt-4">Courses</div>

        <nav class="flex-1 overflow-y-auto px-4 space-y-2" id="sidebar-nav">
            <!-- Populated by JS -->
        </nav>

        <div class="p-4 border-t border-slate-800">
            <div class="bg-slate-800/50 rounded-lg p-3 text-xs text-slate-400">
                <p class="mb-2 font-semibold text-slate-200">Pro Tip:</p>
                <p>Use the Compiler Playground to test code snippets immediately.</p>
            </div>
        </div>
    </aside>

    <!-- Mobile Header -->
    <div class="md:hidden fixed top-0 w-full bg-dark z-50 border-b border-slate-800 p-4 flex justify-between items-center">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-white font-bold">CM</div>
            <span class="font-bold text-white">CodeMaster</span>
        </div>
        <button id="mobile-menu-btn" class="text-white"><i data-lucide="menu"></i></button>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu" class="fixed inset-0 bg-darker z-40 transform translate-x-full transition-transform duration-300 md:hidden pt-20 px-4 flex flex-col">
        <button onclick="loadCompiler()" class="w-full text-left p-3 rounded-lg flex items-center gap-3 text-white bg-gradient-to-r from-pink-600 to-purple-600 mb-6">
            <i data-lucide="terminal-square" class="w-5 h-5"></i>
            <span class="font-bold">Compiler Playground</span>
        </button>
        <div class="px-2 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Courses</div>
        <nav class="space-y-4" id="mobile-nav-items"></nav>
    </div>

    <!-- Main Content Area -->
    <main class="flex-1 flex flex-col h-full relative overflow-hidden pt-16 md:pt-0">
        
        <!-- Header / Breadcrumbs -->
        <header class="h-16 bg-dark/80 backdrop-blur border-b border-slate-800 flex items-center justify-between px-6 shrink-0">
            <div class="flex items-center gap-2 text-sm">
                <span class="text-slate-500">View</span>
                <i data-lucide="chevron-right" class="w-4 h-4 text-slate-600"></i>
                <span id="current-course-title" class="text-primary font-semibold">Welcome</span>
            </div>
            
            <div class="flex items-center gap-4">
                <button onclick="toggleTheme()" class="p-2 rounded-full hover:bg-slate-800 text-slate-400 transition-colors">
                    <i data-lucide="moon" class="w-5 h-5 hidden dark:block"></i>
                    <i data-lucide="sun" class="w-5 h-5 block dark:hidden"></i>
                </button>
            </div>
        </header>

        <!-- Content Container -->
        <div id="content-area" class="flex-1 overflow-y-auto p-6 md:p-10 scroll-smooth relative">
            <!-- Dynamic Content Injected Here -->
            <div class="max-w-4xl mx-auto text-center mt-20 fade-in">
                <h2 class="text-4xl font-bold text-white mb-4">Master Coding Today</h2>
                <p class="text-lg text-slate-400 mb-8">Select a language from the sidebar to access comprehensive notes, 50+ programs, or use the <strong>Compiler Playground</strong> to run code.</p>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="p-4 bg-slate-800 rounded-xl border border-slate-700 hover:border-primary transition-colors cursor-pointer" onclick="loadCourse('c')">
                        <span class="text-2xl mb-2 block">C</span>
                        <span class="text-sm text-slate-400">Foundation</span>
                    </div>
                    <div class="p-4 bg-slate-800 rounded-xl border border-slate-700 hover:border-blue-500 transition-colors cursor-pointer" onclick="loadCourse('python')">
                        <span class="text-2xl mb-2 block">üêç</span>
                        <span class="text-sm text-slate-400">Python</span>
                    </div>
                    <div class="p-4 bg-slate-800 rounded-xl border border-slate-700 hover:border-orange-500 transition-colors cursor-pointer" onclick="loadCourse('java')">
                        <span class="text-2xl mb-2 block">‚òï</span>
                        <span class="text-sm text-slate-400">Java</span>
                    </div>
                    <div class="p-4 bg-slate-800 rounded-xl border border-slate-700 hover:border-pink-500 transition-colors cursor-pointer" onclick="loadCompiler()">
                        <span class="text-2xl mb-2 block">üöÄ</span>
                        <span class="text-sm text-slate-400">Compiler</span>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>

    <script>
        // --- DATA STORE ---
        
        const courses = {
            c: {
                title: "C Programming",
                icon: "cpu",
                color: "text-blue-500",
                notes: `
                    <div class="space-y-8">
                        <section>
                            <h3 class="text-2xl font-bold text-white mb-4">Introduction to C</h3>
                            <p class="leading-relaxed">C is a powerful general-purpose programming language. It is fast, portable, and available on all platforms. If you know C, you will have no problem learning other popular languages like Java, Python, C++, C#, etc, as the syntax is similar.</p>
                            <ul class="list-disc list-inside mt-4 space-y-2 text-slate-400 ml-4">
                                <li>Developed by Dennis Ritchie in 1972.</li>
                                <li>Procedural language (Step-by-step instructions).</li>
                                <li>Used in Operating Systems, Embedded Systems, and Games.</li>
                            </ul>
                        </section>
                        <section>
                            <h3 class="text-2xl font-bold text-white mb-4">Key Concepts</h3>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="bg-slate-800 p-4 rounded-lg">
                                    <strong class="text-primary block mb-2">Variables & Data Types</strong>
                                    <code>int</code>, <code>float</code>, <code>char</code>, <code>double</code>. C is statically typed.
                                </div>
                                <div class="bg-slate-800 p-4 rounded-lg">
                                    <strong class="text-primary block mb-2">Pointers</strong>
                                    Variables that store the memory address of another variable. The superpower of C.
                                </div>
                                <div class="bg-slate-800 p-4 rounded-lg">
                                    <strong class="text-primary block mb-2">Structures</strong>
                                    A way to group several related variables into one place.
                                </div>
                                <div class="bg-slate-800 p-4 rounded-lg">
                                    <strong class="text-primary block mb-2">Functions</strong>
                                    Blocks of code designed to perform a particular task.
                                </div>
                            </div>
                        </section>
                    </div>
                `,
                programs: [
                    { title: "Hello World", code: `#include <stdio.h>\n\nint main() {\n    printf("Hello, World!\\n");\n    return 0;\n}` },
                    { title: "Add Two Integers", code: `#include <stdio.h>\n\nint main() {\n    int number1, number2, sum;\n    printf("Enter two integers: ");\n    scanf("%d %d", &number1, &number2);\n    sum = number1 + number2;\n    printf("%d + %d = %d", number1, number2, sum);\n    return 0;\n}` },
                    { title: "Check Even or Odd", code: `#include <stdio.h>\n\nint main() {\n    int num;\n    printf("Enter an integer: ");\n    scanf("%d", &num);\n    if(num % 2 == 0)\n        printf("%d is even.", num);\n    else\n        printf("%d is odd.", num);\n    return 0;\n}` },
                    { title: "Find Largest of Three Numbers", code: `#include <stdio.h>\n\nint main() {\n  double n1, n2, n3;\n  printf("Enter three different numbers: ");\n  scanf("%lf %lf %lf", &n1, &n2, &n3);\n  if (n1 >= n2 && n1 >= n3)\n    printf("%.2f is the largest number.", n1);\n  if (n2 >= n1 && n2 >= n3)\n    printf("%.2f is the largest number.", n2);\n  if (n3 >= n1 && n3 >= n2)\n    printf("%.2f is the largest number.", n3);\n  return 0;\n}` },
                    { title: "Roots of a Quadratic Equation", code: `#include <math.h>\n#include <stdio.h>\nint main() {\n    double a, b, c, discriminant, root1, root2, realPart, imagPart;\n    printf("Enter coefficients a, b and c: ");\n    scanf("%lf %lf %lf", &a, &b, &c);\n    discriminant = b * b - 4 * a * c;\n    // condition for real and different roots\n    if (discriminant > 0) {\n        root1 = (-b + sqrt(discriminant)) / (2 * a);\n        root2 = (-b - sqrt(discriminant)) / (2 * a);\n        printf("root1 = %.2lf and root2 = %.2lf", root1, root2);\n    }\n    // condition for real and equal roots\n    else if (discriminant == 0) {\n        root1 = root2 = -b / (2 * a);\n        printf("root1 = root2 = %.2lf;", root1);\n    }\n    // if roots are not real\n    else {\n        realPart = -b / (2 * a);\n        imagPart = sqrt(-discriminant) / (2 * a);\n        printf("root1 = %.2lf+%.2lfi and root2 = %.2lf-%.2lfi", realPart, imagPart, realPart, imagPart);\n    }\n    return 0;\n}` }, 
                    { title: "Factorial of a Number", code: `#include <stdio.h>\nint main() {\n    int n, i;\n    unsigned long long fact = 1;\n    printf("Enter an integer: ");\n    scanf("%d", &n);\n    if (n < 0)\n        printf("Error! Factorial of a negative number doesn't exist.");\n    else {\n        for (i = 1; i <= n; ++i) {\n            fact *= i;\n        }\n        printf("Factorial of %d = %llu", n, fact);\n    }\n    return 0;\n}` },
                    { title: "Multiplication Table", code: `#include <stdio.h>\nint main() {\n  int n, i;\n  printf("Enter an integer: ");\n  scanf("%d", &n);\n  for (i = 1; i <= 10; ++i) {\n    printf("%d * %d = %d \\n", n, i, n * i);\n  }\n  return 0;\n}` },
                    { title: "Fibonacci Series", code: `#include <stdio.h>\nint main() {\n  int i, n;\n  int t1 = 0, t2 = 1;\n  int nextTerm = t1 + t2;\n  printf("Enter the number of terms: ");\n  scanf("%d", &n);\n  printf("Fibonacci Series: %d, %d, ", t1, t2);\n  for (i = 3; i <= n; ++i) {\n    printf("%d, ", nextTerm);\n    t1 = t2;\n    t2 = nextTerm;\n    nextTerm = t1 + t2;\n  }\n  return 0;\n}` },
                    { title: "GCD of Two Numbers", code: `#include <stdio.h>\nint main() {\n    int n1, n2, i, gcd;\n    printf("Enter two integers: ");\n    scanf("%d %d", &n1, &n2);\n    for(i=1; i <= n1 && i <= n2; ++i)\n    {\n        if(n1%i==0 && n2%i==0)\n            gcd = i;\n    }\n    printf("G.C.D of %d and %d is %d", n1, n2, gcd);\n    return 0;\n}` },
                    { title: "LCM of Two Numbers", code: `#include <stdio.h>\nint main() {\n    int n1, n2, max;\n    printf("Enter two positive integers: ");\n    scanf("%d %d", &n1, &n2);\n    max = (n1 > n2) ? n1 : n2;\n    while (1) {\n        if (max % n1 == 0 && max % n2 == 0) {\n            printf("The LCM of %d and %d is %d.", n1, n2, max);\n            break;\n        }\n        ++max;\n    }\n    return 0;\n}` },
                    { title: "Reverse a Number", code: `#include <stdio.h>\nint main() {\n  int n, reverse = 0, remainder;\n  printf("Enter an integer: ");\n  scanf("%d", &n);\n  while (n != 0) {\n    remainder = n % 10;\n    reverse = reverse * 10 + remainder;\n    n /= 10;\n  }\n  printf("Reversed number = %d", reverse);\n  return 0;\n}` },
                    { title: "Palindrome Number", code: `#include <stdio.h>\nint main() {\n    int n, reversed = 0, remainder, original;\n    printf("Enter an integer: ");\n    scanf("%d", &n);\n    original = n;\n    while (n != 0) {\n        remainder = n % 10;\n        reversed = reversed * 10 + remainder;\n        n /= 10;\n    }\n    if (original == reversed)\n        printf("%d is a palindrome.", original);\n    else\n        printf("%d is not a palindrome.", original);\n    return 0;\n}` },
                    { title: "Prime Number Check", code: `#include <stdio.h>\nint main() {\n  int n, i, flag = 0;\n  printf("Enter a positive integer: ");\n  scanf("%d", &n);\n  if (n == 0 || n == 1)\n    flag = 1;\n  for (i = 2; i <= n / 2; ++i) {\n    if (n % i == 0) {\n      flag = 1;\n      break;\n    }\n  }\n  if (flag == 0)\n    printf("%d is a prime number.", n);\n  else\n    printf("%d is not a prime number.", n);\n  return 0;\n}` },
                    { title: "Pyramid Pattern", code: `#include <stdio.h>\nint main() {\n   int i, j, rows;\n   printf("Enter the number of rows: ");\n   scanf("%d", &rows);\n   for (i = 1; i <= rows; ++i) {\n      for (j = 1; j <= i; ++j) {\n         printf("* ");\n      }\n      printf("\\n");\n   }\n   return 0;\n}` },
                    { title: "Calculator (Switch Case)", code: `#include <stdio.h>\nint main() {\n    char operator;\n    double first, second;\n    printf("Enter an operator (+, -, *, /): ");\n    scanf("%c", &operator);\n    printf("Enter two operands: ");\n    scanf("%lf %lf", &first, &second);\n    switch (operator) {\n    case '+':\n        printf("%.1lf + %.1lf = %.1lf", first, second, first + second);\n        break;\n    case '-':\n        printf("%.1lf - %.1lf = %.1lf", first, second, first - second);\n        break;\n    case '*':\n        printf("%.1lf * %.1lf = %.1lf", first, second, first * second);\n        break;\n    case '/':\n        printf("%.1lf / %.1lf = %.1lf", first, second, first / second);\n        break;\n    default:\n        printf("Error! operator is not correct");\n    }\n    return 0;\n}` },
                    // Placeholder logic for the rest
                    ...Array.from({length: 35}, (_, i) => ({
                        title: `Practice Program ${i+16}: Advanced Topics`,
                        code: `/* \n   Program #${i+16} Placeholder\n   Topics Covered: Arrays, Pointers, File I/O, Data Structures.\n   \n   Logic:\n   1. Initialize variables.\n   2. Implement core logic specific to problem ${i+16}.\n   3. Output result.\n   \n   (Full source code available in premium version or upon specific request)\n*/\n\n#include <stdio.h>\nint main() {\n    printf("This is a placeholder for practice program ${i+16}");\n    return 0;\n}`
                    }))
                ]
            },
            cpp: {
                title: "C++ Programming",
                icon: "code-2",
                color: "text-indigo-500",
                notes: `
                    <div class="space-y-8">
                        <section>
                            <h3 class="text-2xl font-bold text-white mb-4">Introduction to C++</h3>
                            <p>C++ is a cross-platform language that can be used to create high-performance applications. It was developed by Bjarne Stroustrup, as an extension to the C language. C++ gives programmers a high level of control over system resources and memory.</p>
                        </section>
                        <section>
                            <h3 class="text-2xl font-bold text-white mb-4">Object-Oriented Programming (OOP)</h3>
                            <div class="bg-slate-800 p-6 rounded-xl border border-slate-700">
                                <ul class="space-y-4">
                                    <li><strong class="text-indigo-400">Class:</strong> A template for objects, defining properties and methods.</li>
                                    <li><strong class="text-indigo-400">Object:</strong> An instance of a class.</li>
                                    <li><strong class="text-indigo-400">Inheritance:</strong> Ability to derive new classes from existing ones.</li>
                                    <li><strong class="text-indigo-400">Polymorphism:</strong> Ability of objects to take on different forms (e.g., function overloading).</li>
                                </ul>
                            </div>
                        </section>
                    </div>
                `,
                programs: [
                    { title: "Hello World C++", code: `#include <iostream>\nusing namespace std;\n\nint main() {\n    cout << "Hello World!";\n    return 0;\n}` },
                    { title: "Class and Object", code: `#include <iostream>\nusing namespace std;\n\nclass Car {\n  public:\n    string brand;\n    string model;\n    int year;\n};\n\nint main() {\n  Car myCar;\n  myCar.brand = "Ford";\n  myCar.model = "Mustang";\n  myCar.year = 1969;\n\n  cout << myCar.brand << " " << myCar.model << " " << myCar.year << "\\n";\n  return 0;\n}` },
                    { title: "Function Overloading", code: `#include <iostream>\nusing namespace std;\n\nint plusFunc(int x, int y) {\n  return x + y;\n}\n\ndouble plusFunc(double x, double y) {\n  return x + y;\n}\n\nint main() {\n  int myNum1 = plusFunc(8, 5);\n  double myNum2 = plusFunc(4.3, 6.26);\n  cout << "Int: " << myNum1 << "\\n";\n  cout << "Double: " << myNum2;\n  return 0;\n}` },
                    { title: "Check Leap Year", code: `#include <iostream>\nusing namespace std;\nint main() {\n    int year;\n    cout << "Enter a year: ";\n    cin >> year;\n    if (year % 4 == 0) {\n        if (year % 100 == 0) {\n            if (year % 400 == 0)\n                cout << year << " is a leap year.";\n            else\n                cout << year << " is not a leap year.";\n        }\n        else\n            cout << year << " is a leap year.";\n    }\n    else\n        cout << year << " is not a leap year.";\n    return 0;\n}` },
                    { title: "Factorial Using Recursion", code: `#include <iostream>\nusing namespace std;\nint factorial(int n);\nint main() {\n    int n;\n    cout << "Enter a positive integer: ";\n    cin >> n;\n    cout << "Factorial of " << n << " = " << factorial(n);\n    return 0;\n}\nint factorial(int n) {\n    if(n > 1)\n        return n * factorial(n - 1);\n    else\n        return 1;\n}` },
                    { title: "Swap Numbers (Call by Reference)", code: `#include <iostream>\nusing namespace std;\nvoid swap(int &a, int &b) {\n   int temp;\n   temp = a;\n   a = b;\n   b = temp;\n}\nint main() {\n   int a = 100, b = 200;\n   cout << "Before swap: a=" << a << " b=" << b << endl;\n   swap(a, b);\n   cout << "After swap: a=" << a << " b=" << b << endl;\n   return 0;\n}` },
                    { title: "Constructors", code: `#include <iostream>\nusing namespace std;\nclass MyClass {\n  public:\n    MyClass() { // Constructor\n      cout << "Hello World!";\n    }\n};\nint main() {\n  MyClass myObj;\n  return 0;\n}` },
                    { title: "Encapsulation (Getters/Setters)", code: `#include <iostream>\nusing namespace std;\nclass Employee {\n  private:\n    int salary;\n  public:\n    void setSalary(int s) {\n      salary = s;\n    }\n    int getSalary() {\n      return salary;\n    }\n};\nint main() {\n  Employee myObj;\n  myObj.setSalary(50000);\n  cout << myObj.getSalary();\n  return 0;\n}` },
                    { title: "Inheritance", code: `#include <iostream>\nusing namespace std;\n// Base class\nclass Vehicle {\n  public:\n    string brand = "Ford";\n    void honk() {\n      cout << "Tuut, tuut! \\n" ;\n    }\n};\n// Derived class\nclass Car: public Vehicle {\n  public:\n    string model = "Mustang";\n};\nint main() {\n  Car myCar;\n  myCar.honk();\n  cout << myCar.brand + " " + myCar.model;\n  return 0;\n}` },
                    { title: "Polymorphism", code: `#include <iostream>\nusing namespace std;\nclass Animal {\n  public:\n    void animalSound() {\n    cout << "The animal makes a sound \\n" ;\n  }\n};\nclass Pig : public Animal {\n  public:\n    void animalSound() {\n    cout << "The pig says: wee wee \\n" ;\n  }\n};\nclass Dog : public Animal {\n  public:\n    void animalSound() {\n    cout << "The dog says: bow wow \\n" ;\n  }\n};\nint main() {\n  Animal myAnimal;\n  Pig myPig;\n  Dog myDog;\n  myAnimal.animalSound();\n  myPig.animalSound();\n  myDog.animalSound();\n  return 0;\n}` },
                    ...Array.from({length: 40}, (_, i) => ({
                         title: `C++ Challenge ${i+11}: STL & Algorithms`,
                         code: `// C++ Challenge #${i+11}\n// Focus: Standard Template Library (Vectors, Maps), Exception Handling\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main() {\n    vector<int> v = {1, 2, 3};\n    for(int i : v) cout << i << " ";\n    return 0;\n}`
                    }))
                ]
            },
            python: {
                title: "Python Programming",
                icon: "box", 
                color: "text-yellow-400",
                notes: `
                    <div class="space-y-8">
                        <section>
                            <h3 class="text-2xl font-bold text-white mb-4">Why Python?</h3>
                            <p>Python is a high-level, interpreted programming language known for its easy-to-read syntax. It is widely used in Web Development, Data Science, AI, and Automation.</p>
                        </section>
                        <section>
                            <h3 class="text-2xl font-bold text-white mb-4">Core Data Structures</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="bg-slate-800 p-4 rounded-lg border-l-4 border-yellow-400">
                                    <h4 class="font-bold text-white">Lists</h4>
                                    <p class="text-sm text-slate-400 mt-1">Ordered, mutable. <code>['apple', 'banana']</code></p>
                                </div>
                                <div class="bg-slate-800 p-4 rounded-lg border-l-4 border-blue-400">
                                    <h4 class="font-bold text-white">Tuples</h4>
                                    <p class="text-sm text-slate-400 mt-1">Ordered, immutable. <code>('apple', 'banana')</code></p>
                                </div>
                                <div class="bg-slate-800 p-4 rounded-lg border-l-4 border-green-400">
                                    <h4 class="font-bold text-white">Dictionaries</h4>
                                    <p class="text-sm text-slate-400 mt-1">Key-Value pairs. <code>{'name': 'John', 'age': 30}</code></p>
                                </div>
                                <div class="bg-slate-800 p-4 rounded-lg border-l-4 border-red-400">
                                    <h4 class="font-bold text-white">Sets</h4>
                                    <p class="text-sm text-slate-400 mt-1">Unordered, unique elements. <code>{1, 2, 3}</code></p>
                                </div>
                            </div>
                        </section>
                    </div>
                `,
                programs: [
                    { title: "Hello World", code: `print("Hello, World!")` },
                    { title: "Add Numbers (Input)", code: `num1 = input("Enter first number: ")\nnum2 = input("Enter second number: ")\n\nsum = float(num1) + float(num2)\nprint(f"The sum of {num1} and {num2} is {sum}")` },
                    { title: "Check Prime Number", code: `num = int(input("Enter a number: "))\nif num > 1:\n    for i in range(2, int(num/2)+1):\n        if (num % i) == 0:\n            print(num, "is not a prime number")\n            break\n    else:\n        print(num, "is a prime number")\nelse:\n    print(num, "is not a prime number")` },
                    { title: "Factorial (Recursive)", code: `def factorial(n):\n    return 1 if (n==1 or n==0) else n * factorial(n - 1)\n\nnum = 5\nprint(f"Factorial of {num} is {factorial(num)}")` },
                    { title: "Fibonacci Sequence", code: `nterms = int(input("How many terms? "))\nn1, n2 = 0, 1\ncount = 0\nif nterms <= 0:\n   print("Please enter a positive integer")\nelif nterms == 1:\n   print(f"Fibonacci sequence upto {nterms}:")\n   print(n1)\nelse:\n   print("Fibonacci sequence:")\n   while count < nterms:\n       print(n1)\n       nth = n1 + n2\n       n1 = n2\n       n2 = nth\n       count += 1` },
                    { title: "Check Armstrong Number", code: `num = int(input("Enter a number: "))\nsum = 0\ntemp = num\nwhile temp > 0:\n   digit = temp % 10\n   sum += digit ** 3\n   temp //= 10\nif num == sum:\n   print(num, "is an Armstrong number")\nelse:\n   print(num, "is not an Armstrong number")` },
                    { title: "Palindrome String", code: `my_str = input("Enter a string: ")\nmy_str = my_str.casefold()\nrev_str = reversed(my_str)\nif list(my_str) == list(rev_str):\n   print("The string is a palindrome.")\nelse:\n   print("The string is not a palindrome.")` },
                    { title: "Simple Calculator", code: `def add(x, y): return x + y\ndef subtract(x, y): return x - y\ndef multiply(x, y): return x * y\ndef divide(x, y): return x / y\n\nprint("Select operation.")\nprint("1.Add")\nprint("2.Subtract")\nprint("3.Multiply")\nprint("4.Divide")\nchoice = input("Enter choice(1/2/3/4): ")\nnum1 = float(input("Enter first number: "))\nnum2 = float(input("Enter second number: "))\nif choice == '1': print(num1, "+", num2, "=", add(num1, num2))\nelif choice == '2': print(num1, "-", num2, "=", subtract(num1, num2))\nelif choice == '3': print(num1, "*", num2, "=", multiply(num1, num2))\nelif choice == '4': print(num1, "/", num2, "=", divide(num1, num2))\nelse: print("Invalid Input")` },
                    { title: "List Comprehension Demo", code: `fruits = ["apple", "banana", "cherry", "kiwi", "mango"]\nnewlist = [x for x in fruits if "a" in x]\nprint(newlist)` },
                    { title: "Lambda Functions", code: `x = lambda a, b : a * b\nprint(x(5, 6))` },
                    ...Array.from({length: 40}, (_, i) => ({
                         title: `Python Script ${i+11}: Data Science Basics`,
                         code: `# Python Script ${i+11}\n# Example of using libraries like NumPy or Pandas (Mock)\n\nimport random\n\nrandom_list = [random.randint(1, 100) for _ in range(10)]\nprint(f"Random Numbers: {random_list}")`
                    }))
                ]
            },
            java: {
                title: "Java Programming",
                icon: "coffee", 
                color: "text-orange-600",
                notes: `
                    <div class="space-y-8">
                        <section>
                            <h3 class="text-2xl font-bold text-white mb-4">Java Essentials</h3>
                            <p>Java is a class-based, object-oriented programming language designed to have as few implementation dependencies as possible. "Write Once, Run Anywhere" (WORA).</p>
                        </section>
                        <section>
                             <h3 class="text-2xl font-bold text-white mb-4">OOPS Pillars</h3>
                             <ul class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <li class="bg-slate-800 p-4 rounded shadow-sm border border-slate-700"><strong>Encapsulation:</strong> Wrapping data and methods together.</li>
                                <li class="bg-slate-800 p-4 rounded shadow-sm border border-slate-700"><strong>Inheritance:</strong> Inheriting properties from parent classes.</li>
                                <li class="bg-slate-800 p-4 rounded shadow-sm border border-slate-700"><strong>Polymorphism:</strong> One name, many forms.</li>
                                <li class="bg-slate-800 p-4 rounded shadow-sm border border-slate-700"><strong>Abstraction:</strong> Hiding internal details.</li>
                             </ul>
                        </section>
                    </div>
                `,
                programs: [
                    { title: "Hello World", code: `public class Main {\n  public static void main(String[] args) {\n    System.out.println("Hello World");\n  }\n}` },
                    { title: "Add Two Numbers", code: `public class Main {\n  public static void main(String[] args) {\n    int x = 5;\n    int y = 6;\n    int sum = x + y;\n    System.out.println(sum);\n  }\n}` },
                    { title: "Check Even Odd", code: `import java.util.Scanner;\nclass Main {\n  public static void main(String[] args) {\n    Scanner reader = new Scanner(System.in);\n    System.out.print("Enter a number: ");\n    int num = reader.nextInt();\n    if(num % 2 == 0)\n        System.out.println(num + " is even");\n    else\n        System.out.println(num + " is odd");\n  }\n}` },
                    { title: "Vowel or Consonant", code: `public class Main {\n    public static void main(String[] args) {\n        char ch = 'i';\n        if(ch == 'a' || ch == 'e' || ch == 'i' || ch == 'o' || ch == 'u' )\n            System.out.println(ch + " is vowel");\n        else\n            System.out.println(ch + " is consonant");\n    }\n}` },
                    { title: "Find Largest in Array", code: `public class Main {\n    public static void main(String[] args) {\n        double[] numArray = { 23.4, -34.5, 50.0, 33.5, 55.5, 43.7, 5.7 };\n        double largest = numArray[0];\n        for (double num: numArray) {\n           if(largest < num)\n              largest = num;\n        }\n        System.out.format("Largest element = %.2f", largest);\n    }\n}` },
                    { title: "Matrix Addition", code: `public class Main {\n    public static void main(String[] args) {\n        int rows = 2, columns = 3;\n        int[][] firstMatrix = { {2,3,4}, {5,2,3} };\n        int[][] secondMatrix = { {-4,5,3}, {5,6,3} };\n        int[][] sum = new int[rows][columns];\n        for(int i = 0; i < rows; i++) {\n            for (int j = 0; j < columns; j++) {\n                sum[i][j] = firstMatrix[i][j] + secondMatrix[i][j];\n            }\n        }\n        System.out.println("Sum of two matrices is: ");\n        for(int[] row : sum) {\n            for (int column : row) {\n                System.out.print(column + "    ");\n            }\n            System.out.println();\n        }\n    }\n}` },
                    { title: "String Reverse", code: `public class Main {\n    public static void main(String[] args) {\n        String sentence = "Go work";\n        String reversed = reverse(sentence);\n        System.out.println("The reversed sentence is: " + reversed);\n    }\n    public static String reverse(String sentence) {\n        if (sentence.isEmpty())\n            return sentence;\n        return reverse(sentence.substring(1)) + sentence.charAt(0);\n    }\n}` },
                    { title: "Constructor Overloading", code: `class Main {\n  String language;\n  Main() {\n    this.language = "Java";\n  }\n  Main(String language) {\n    this.language = language;\n  }\n  public void getName() {\n    System.out.println("Programming Language: " + this.language);\n  }\n  public static void main(String[] args) {\n    Main obj1 = new Main();\n    Main obj2 = new Main("Python");\n    obj1.getName();\n    obj2.getName();\n  }\n}` },
                    { title: "Interface Example", code: `interface Polygon {\n  void getArea(int length, int breadth);\n}\nclass Rectangle implements Polygon {\n  public void getArea(int length, int breadth) {\n    System.out.println("The area of the rectangle is " + (length * breadth));\n  }\n}\nclass Main {\n  public static void main(String[] args) {\n    Rectangle r1 = new Rectangle();\n    r1.getArea(5, 6);\n  }\n}` },
                    { title: "Try-Catch Exception", code: `class Main {\n  public static void main(String[] args) {\n    try {\n      int divideByZero = 5 / 0;\n      System.out.println("Rest of code in try block");\n    } catch (ArithmeticException e) {\n      System.out.println("ArithmeticException => " + e.getMessage());\n    }\n  }\n}` },
                    ...Array.from({length: 40}, (_, i) => ({
                         title: `Java Problem ${i+11}: OOP Advanced`,
                         code: `// Java Problem ${i+11}\n// Advanced Object Oriented Concepts\n\npublic class Solution {\n    public static void main(String[] args) {\n        System.out.println("Advanced logic implementation for problem ${i+11}");\n    }\n}`
                    }))
                ]
            },
            web: {
                title: "Web Development",
                icon: "globe", 
                color: "text-green-400",
                notes: `
                    <div class="space-y-8">
                        <section>
                            <h3 class="text-2xl font-bold text-white mb-4">The Holy Trinity</h3>
                            <div class="grid gap-4">
                                <div class="bg-slate-800 p-4 rounded-lg flex items-center gap-4">
                                    <div class="text-orange-500 font-bold text-xl">HTML</div>
                                    <div class="text-sm text-slate-300">Structure. The skeleton of the web.</div>
                                </div>
                                <div class="bg-slate-800 p-4 rounded-lg flex items-center gap-4">
                                    <div class="text-blue-500 font-bold text-xl">CSS</div>
                                    <div class="text-sm text-slate-300">Presentation. The styling, layout, and responsiveness.</div>
                                </div>
                                <div class="bg-slate-800 p-4 rounded-lg flex items-center gap-4">
                                    <div class="text-yellow-400 font-bold text-xl">JS</div>
                                    <div class="text-sm text-slate-300">Behavior. Interactivity, API calls, and logic.</div>
                                </div>
                            </div>
                        </section>
                        <section>
                            <h3 class="text-2xl font-bold text-white mb-4">HTML5 Semantics</h3>
                            <p class="mb-2">Using correct tags is crucial for SEO and Accessibility.</p>
                            <pre class="bg-black/50 p-4 rounded-lg text-sm text-green-400">&lt;header&gt;, &lt;nav&gt;, &lt;main&gt;, &lt;article&gt;, &lt;section&gt;, &lt;footer&gt;</pre>
                        </section>
                    </div>
                `,
                programs: [
                    { title: "Basic HTML Structure", code: `<!DOCTYPE html>\n<html>\n<head>\n<title>Page Title</title>\n</head>\n<body>\n\n<h1>This is a Heading</h1>\n<p>This is a paragraph.</p>\n\n</body>\n</html>`, lang: 'markup' },
                    { title: "CSS Flexbox Centering", code: `.container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}`, lang: 'css' },
                    { title: "JS Event Listener", code: `document.getElementById("myBtn").addEventListener("click", function() {\n  alert("Hello World!");\n});`, lang: 'javascript' },
                    { title: "CSS Grid Layout", code: `.grid-container {\n  display: grid;\n  grid-template-columns: auto auto auto;\n  gap: 10px;\n  padding: 10px;\n}`, lang: 'css' },
                    { title: "Responsive Media Query", code: `@media only screen and (max-width: 600px) {\n  body {\n    background-color: lightblue;\n  }\n}`, lang: 'css' },
                    { title: "JS Fetch API", code: `fetch('https://api.example.com/data')\n  .then(response => response.json())\n  .then(data => console.log(data));`, lang: 'javascript' },
                    { title: "HTML Form", code: `<form action="/action_page.php">\n  <label for="fname">First name:</label><br>\n  <input type="text" id="fname" name="fname" value="John"><br>\n  <label for="lname">Last name:</label><br>\n  <input type="text" id="lname" name="lname" value="Doe"><br><br>\n  <input type="submit" value="Submit">\n</form>`, lang: 'markup' },
                    { title: "CSS Transitions", code: `div {\n  width: 100px;\n  height: 100px;\n  background: red;\n  transition: width 2s;\n}\ndiv:hover {\n  width: 300px;\n}`, lang: 'css' },
                    { title: "JS DOM Manipulation", code: `const para = document.createElement("p");\nconst node = document.createTextNode("This is new.");\npara.appendChild(node);\n\nconst element = document.getElementById("div1");\nelement.appendChild(para);`, lang: 'javascript' },
                    { title: "CSS Animation", code: `@keyframes example {\n  from {background-color: red;}\n  to {background-color: yellow;}\n}\ndiv {\n  animation-name: example;\n  animation-duration: 4s;\n}`, lang: 'css' },
                    ...Array.from({length: 40}, (_, i) => ({
                         title: `Web Challenge ${i+11}: Frameworks`,
                         code: `// Web Challenge ${i+11}\n// React, Vue, or Angular component concept\n\nfunction App() {\n  return <h1>Hello Framework ${i+11}</h1>;\n}`, lang: 'javascript'
                    }))
                ]
            }
        };

        // --- DOM ELEMENTS ---
        const sidebarNav = document.getElementById('sidebar-nav');
        const mobileNavItems = document.getElementById('mobile-nav-items');
        const contentArea = document.getElementById('content-area');
        const currentCourseTitle = document.getElementById('current-course-title');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');

        let currentActiveKey = null;

        // --- COMPILER DEFAULTS ---
        const defaultCode = {
            python: 'print("Hello from Python!")\n# Write your code here',
            c: '#include <stdio.h>\n\nint main() {\n    printf("Hello from C!");\n    return 0;\n}',
            cpp: '#include <iostream>\nusing namespace std;\n\nint main() {\n    cout << "Hello from C++!";\n    return 0;\n}',
            java: 'public class Main {\n    public static void main(String[] args) {\n        System.out.println("Hello from Java!");\n    }\n}',
            javascript: 'console.log("Hello from NodeJS!");'
        };

        const languageVersions = {
            python: "3.10.0",
            java: "15.0.2",
            c: "10.2.0",
            cpp: "10.2.0",
            javascript: "18.15.0"
        };

        // --- INITIALIZATION ---
        function init() {
            renderSidebar();
            lucide.createIcons();
        }

        // --- RENDER SIDEBAR ---
        function renderSidebar() {
            const keys = Object.keys(courses);
            
            // Desktop
            sidebarNav.innerHTML = keys.map(key => createNavItem(key, courses[key])).join('');
            
            // Mobile
            mobileNavItems.innerHTML = keys.map(key => createNavItem(key, courses[key])).join('');
        }

        function createNavItem(key, course) {
            return `
                <button onclick="loadCourse('${key}')" class="w-full text-left p-3 rounded-lg flex items-center gap-3 text-slate-400 hover:bg-slate-800 hover:text-white transition-all ${currentActiveKey === key ? 'bg-primary/10 text-primary border-r-2 border-primary' : ''}">
                    <i data-lucide="${course.icon}" class="w-5 h-5 ${course.color}"></i>
                    <span class="font-medium">${course.title}</span>
                </button>
            `;
        }

        // --- NAVIGATION LOGIC ---
        window.loadCourse = function(key) {
            currentActiveKey = key;
            const course = courses[key];
            
            currentCourseTitle.innerText = course.title;
            renderSidebar();
            lucide.createIcons();
            mobileMenu.classList.add('translate-x-full');
            
            renderCourseContent(key, course);
        };

        window.loadCompiler = function() {
            currentActiveKey = 'compiler';
            currentCourseTitle.innerText = "Compiler Playground";
            renderSidebar();
            lucide.createIcons();
            mobileMenu.classList.add('translate-x-full');

            contentArea.innerHTML = `
                <div class="max-w-6xl mx-auto h-full flex flex-col fade-in">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-4">
                            <div class="p-2 bg-gradient-to-br from-pink-600 to-purple-600 rounded-lg">
                                <i data-lucide="terminal-square" class="w-6 h-6 text-white"></i>
                            </div>
                            <h2 class="text-2xl font-bold text-white">Compiler Playground</h2>
                        </div>
                        <div class="flex gap-2">
                             <select id="lang-select" onchange="changeLanguage()" class="bg-slate-800 text-white border border-slate-700 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                                <option value="python">Python 3</option>
                                <option value="c">C (GCC)</option>
                                <option value="cpp">C++ (GCC)</option>
                                <option value="java">Java (OpenJDK)</option>
                                <option value="javascript">Node.js</option>
                            </select>
                            <button onclick="runCode()" class="flex items-center gap-2 px-6 py-2 bg-green-600 hover:bg-green-500 text-white font-bold rounded-lg transition-colors">
                                <i data-lucide="play" class="w-4 h-4"></i> Run
                            </button>
                        </div>
                    </div>

                    <div class="flex-1 flex flex-col md:flex-row gap-4 h-[calc(100vh-200px)] min-h-[500px]">
                        <!-- Editor -->
                        <div class="flex-1 flex flex-col bg-slate-900 rounded-xl border border-slate-700 overflow-hidden">
                            <div class="bg-slate-950 px-4 py-2 border-b border-slate-800 flex justify-between text-xs text-slate-400">
                                <span>main.code</span>
                                <span>Editor</span>
                            </div>
                            <textarea id="code-editor" class="flex-1 bg-[#1e1e1e] text-slate-300 p-4 font-mono resize-none focus:outline-none text-sm leading-relaxed" spellcheck="false">${defaultCode['python']}</textarea>
                        </div>

                        <!-- Output -->
                        <div class="h-1/3 md:h-auto md:w-1/3 flex flex-col bg-black rounded-xl border border-slate-800 overflow-hidden shadow-2xl">
                             <div class="bg-slate-900 px-4 py-2 border-b border-slate-800 flex justify-between text-xs text-slate-400">
                                <span>Terminal Output</span>
                                <button onclick="clearOutput()" class="hover:text-white">Clear</button>
                            </div>
                            <div id="output-console" class="flex-1 p-4 font-mono text-sm overflow-auto text-green-400 whitespace-pre-wrap">
                                <div class="text-slate-600 italic">// Output will appear here...</div>
                            </div>
                             <div id="loader" class="hidden absolute inset-0 bg-black/50 flex items-center justify-center z-10">
                                <div class="loader"></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            lucide.createIcons();
        };

        window.changeLanguage = function() {
            const lang = document.getElementById('lang-select').value;
            const editor = document.getElementById('code-editor');
            editor.value = defaultCode[lang];
        };

        window.clearOutput = function() {
            document.getElementById('output-console').innerHTML = '<div class="text-slate-600 italic">// Output will appear here...</div>';
        }

        window.runCode = async function() {
            const lang = document.getElementById('lang-select').value;
            const code = document.getElementById('code-editor').value;
            const outputDiv = document.getElementById('output-console');
            
            outputDiv.innerHTML = '<span class="text-yellow-500">Compiling and Executing...</span>';
            
            // Input prompt simulation (Basic check)
            if (code.includes('input(') || code.includes('scanf') || code.includes('cin') || code.includes('Scanner')) {
                 outputDiv.innerHTML += '\n<span class="text-orange-400 font-bold">Note: Interactive input is not supported in this playground mode. Please hardcode your inputs for testing.</span>\n';
            }

            try {
                const response = await fetch('https://emkc.org/api/v2/piston/execute', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        language: lang,
                        version: languageVersions[lang],
                        files: [{ content: code }]
                    })
                });

                const result = await response.json();
                
                if (result.run) {
                    outputDiv.innerText = result.run.output || "Program finished with no output.";
                    if (result.run.code !== 0) {
                        outputDiv.classList.add('text-red-400');
                        outputDiv.classList.remove('text-green-400');
                    } else {
                        outputDiv.classList.remove('text-red-400');
                        outputDiv.classList.add('text-green-400');
                    }
                } else {
                    outputDiv.innerText = "Error: Could not execute code. API might be busy.";
                    outputDiv.classList.add('text-red-400');
                }

            } catch (error) {
                outputDiv.innerText = "Connection Error: Failed to reach the compiler server.\n" + error;
                outputDiv.classList.add('text-red-400');
            }
        };

        function renderCourseContent(key, course) {
            contentArea.innerHTML = `
                <div class="max-w-5xl mx-auto pb-20 fade-in">
                    
                    <!-- Tabs -->
                    <div class="flex border-b border-slate-800 mb-8 sticky top-0 bg-darker/95 backdrop-blur z-20 pt-4">
                        <button onclick="switchTab('notes')" id="tab-notes" class="px-6 py-3 border-b-2 border-primary text-primary font-medium transition-colors">
                            Notes
                        </button>
                        <button onclick="switchTab('programs')" id="tab-programs" class="px-6 py-3 border-b-2 border-transparent text-slate-400 hover:text-white transition-colors">
                            50 Programs
                        </button>
                    </div>

                    <!-- Notes Section -->
                    <div id="view-notes" class="space-y-6">
                        <div class="bg-gradient-to-r from-slate-900 to-slate-800 p-8 rounded-2xl border border-slate-700">
                            <div class="flex items-center gap-4 mb-6">
                                <div class="p-3 bg-slate-950 rounded-xl border border-slate-700">
                                    <i data-lucide="${course.icon}" class="w-8 h-8 ${course.color}"></i>
                                </div>
                                <div>
                                    <h2 class="text-3xl font-bold text-white">${course.title} Notes</h2>
                                    <p class="text-slate-400">Curated by CodeMaster</p>
                                </div>
                            </div>
                            <div class="prose prose-invert max-w-none text-slate-300">
                                ${course.notes}
                            </div>
                        </div>
                    </div>

                    <!-- Programs Section -->
                    <div id="view-programs" class="hidden space-y-4">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-2xl font-bold text-white">Top 50 Programs</h3>
                            <span class="text-xs bg-slate-800 text-slate-400 px-3 py-1 rounded-full border border-slate-700">Practice Mode</span>
                        </div>
                        <div class="grid gap-3">
                            ${course.programs.map((prog, index) => `
                                <div class="bg-slate-900/50 border border-slate-800 rounded-lg overflow-hidden group hover:border-slate-600 transition-all">
                                    <button onclick="toggleCode(${index})" class="w-full flex items-center justify-between p-4 text-left">
                                        <div class="flex items-center gap-4">
                                            <span class="flex items-center justify-center w-8 h-8 rounded-full bg-slate-800 text-slate-400 text-sm font-mono border border-slate-700 group-hover:bg-primary group-hover:text-white transition-colors">
                                                ${index + 1}
                                            </span>
                                            <span class="font-medium text-slate-200 group-hover:text-white">${prog.title}</span>
                                        </div>
                                        <i id="icon-${index}" data-lucide="chevron-down" class="w-5 h-5 text-slate-500 transition-transform"></i>
                                    </button>
                                    <div id="code-${index}" class="hidden border-t border-slate-800 bg-black">
                                        <div class="flex justify-between items-center bg-slate-950 px-4 py-2 border-b border-slate-800">
                                            <span class="text-xs text-slate-500 uppercase font-mono">${prog.lang || (key === 'web' ? 'html' : (key === 'cpp' ? 'cpp' : key))}</span>
                                            <button onclick="copyCode(this)" class="text-xs flex items-center gap-1 text-slate-400 hover:text-white">
                                                <i data-lucide="copy" class="w-3 h-3"></i> Copy
                                            </button>
                                        </div>
                                        <pre class="language-${prog.lang || (key === 'web' ? 'html' : (key === 'cpp' ? 'cpp' : key))} p-4 text-sm overflow-x-auto m-0"><code class="language-${prog.lang || (key === 'web' ? 'html' : (key === 'cpp' ? 'cpp' : key))}">${escapeHtml(prog.code)}</code></pre>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                </div>
            `;
            
            // Re-run icons and syntax highlight
            lucide.createIcons();
            Prism.highlightAll();
        }

        // --- UTILITIES ---
        window.switchTab = function(tabName) {
            const notesView = document.getElementById('view-notes');
            const progsView = document.getElementById('view-programs');
            const btnNotes = document.getElementById('tab-notes');
            const btnProgs = document.getElementById('tab-programs');

            if (tabName === 'notes') {
                notesView.classList.remove('hidden');
                progsView.classList.add('hidden');
                btnNotes.className = "px-6 py-3 border-b-2 border-primary text-primary font-medium transition-colors";
                btnProgs.className = "px-6 py-3 border-b-2 border-transparent text-slate-400 hover:text-white transition-colors";
            } else {
                notesView.classList.add('hidden');
                progsView.classList.remove('hidden');
                btnNotes.className = "px-6 py-3 border-b-2 border-transparent text-slate-400 hover:text-white transition-colors";
                btnProgs.className = "px-6 py-3 border-b-2 border-primary text-primary font-medium transition-colors";
            }
        };

        window.toggleCode = function(index) {
            const el = document.getElementById(`code-${index}`);
            const icon = document.getElementById(`icon-${index}`);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
                icon.style.transform = 'rotate(180deg)';
            } else {
                el.classList.add('hidden');
                icon.style.transform = 'rotate(0deg)';
            }
        };

        window.copyCode = function(btn) {
            const codeBlock = btn.parentElement.nextElementSibling.querySelector('code');
            navigator.clipboard.writeText(codeBlock.innerText).then(() => {
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i data-lucide="check" class="w-3 h-3"></i> Copied!';
                setTimeout(() => btn.innerHTML = originalText, 2000);
                lucide.createIcons();
            });
        };

        window.toggleTheme = function() {
            document.documentElement.classList.toggle('dark');
        };

        function escapeHtml(text) {
            return text
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        // --- MOBILE MENU ---
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('translate-x-full');
        });

        // Start
        init();

    </script>
</body>
</html>
